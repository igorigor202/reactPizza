{"ast":null,"code":"import _slicedToArray from\"C:/Users/Igor N/Desktop/react pizza 24 L/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import styles from'./Search.module.scss';import debounce from'lodash.debounce';import{useDispatch}from'react-redux';import{setSearchValue}from'../../redux/filter/slice';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Search=function Search(){var dispatch=useDispatch();var _React$useState=React.useState(''),_React$useState2=_slicedToArray(_React$useState,2),value=_React$useState2[0],setValue=_React$useState2[1];var inputRef=React.useRef(null);var onClearInput=function onClearInput(){var _inputRef$current;dispatch(setSearchValue(''));setValue('');(_inputRef$current=inputRef.current)===null||_inputRef$current===void 0?void 0:_inputRef$current.focus();};var updateSearchValue=React.useCallback(debounce(function(str){dispatch(setSearchValue(str));},1000),[]);var onChangeInput=function onChangeInput(event){setValue(event.target.value);updateSearchValue(event.target.value);};return/*#__PURE__*/_jsxs(\"div\",{className:styles.root,children:[/*#__PURE__*/_jsxs(\"svg\",{className:styles.icon,viewBox:\"0 0 32 32\",xmlns:\"http://www.w3.org/2000/svg\",children:[/*#__PURE__*/_jsx(\"title\",{}),/*#__PURE__*/_jsx(\"g\",{id:\"search\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M29.71,28.29l-6.5-6.5-.07,0a12,12,0,1,0-1.39,1.39s0,.05,0,.07l6.5,6.5a1,1,0,0,0,1.42,0A1,1,0,0,0,29.71,28.29ZM14,24A10,10,0,1,1,24,14,10,10,0,0,1,14,24Z\"})})]}),/*#__PURE__*/_jsx(\"input\",{value:value,ref:inputRef,onChange:onChangeInput,className:styles.input,placeholder:\"Search....\"}),value&&/*#__PURE__*/_jsxs(\"svg\",{onClick:onClearInput,className:styles.close,viewBox:\"0 0 48 48\",xmlns:\"http://www.w3.org/2000/svg\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M38 12.83l-2.83-2.83-11.17 11.17-11.17-11.17-2.83 2.83 11.17 11.17-11.17 11.17 2.83 2.83 11.17-11.17 11.17 11.17 2.83-2.83-11.17-11.17z\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M0 0h48v48h-48z\",fill:\"none\"})]})]});};export default Search;","map":{"version":3,"names":["React","styles","debounce","useDispatch","setSearchValue","Search","dispatch","useState","value","setValue","inputRef","useRef","onClearInput","current","focus","updateSearchValue","useCallback","str","onChangeInput","event","target","root","icon","input","close"],"sources":["C:/Users/Igor N/Desktop/react pizza 24 L/src/components/Search/index.tsx"],"sourcesContent":["import React from 'react';\nimport styles from './Search.module.scss';\nimport debounce from 'lodash.debounce';\nimport { useDispatch } from 'react-redux';\nimport { setSearchValue } from '../../redux/filter/slice';\n\nconst Search: React.FC = () => {\n  const dispatch = useDispatch();\n  const [value, setValue] = React.useState('');\n\n  const inputRef = React.useRef<HTMLInputElement>(null);\n\n  const onClearInput = () => {\n    dispatch(setSearchValue(''));\n    setValue('');\n    inputRef.current?.focus();\n  };\n\n  const updateSearchValue = React.useCallback(\n    debounce((str: string) => {\n      dispatch(setSearchValue(str));\n    }, 1000),\n    [],\n  );\n\n  const onChangeInput = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setValue(event.target.value);\n    updateSearchValue(event.target.value);\n  };\n\n  return (\n    <div className={styles.root}>\n      <svg className={styles.icon} viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\">\n        <title />\n        <g id=\"search\">\n          <path d=\"M29.71,28.29l-6.5-6.5-.07,0a12,12,0,1,0-1.39,1.39s0,.05,0,.07l6.5,6.5a1,1,0,0,0,1.42,0A1,1,0,0,0,29.71,28.29ZM14,24A10,10,0,1,1,24,14,10,10,0,0,1,14,24Z\" />\n        </g>\n      </svg>\n      <input\n        value={value}\n        ref={inputRef}\n        onChange={onChangeInput}\n        className={styles.input}\n        placeholder=\"Search....\"\n      />\n      {value && (\n        <svg\n          onClick={onClearInput}\n          className={styles.close}\n          viewBox=\"0 0 48 48\"\n          xmlns=\"http://www.w3.org/2000/svg\">\n          <path d=\"M38 12.83l-2.83-2.83-11.17 11.17-11.17-11.17-2.83 2.83 11.17 11.17-11.17 11.17 2.83 2.83 11.17-11.17 11.17 11.17 2.83-2.83-11.17-11.17z\" />\n          <path d=\"M0 0h48v48h-48z\" fill=\"none\" />\n        </svg>\n      )}\n    </div>\n  );\n};\n\nexport default Search;\n"],"mappings":"8HAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,MAAOC,OAAP,KAAmB,sBAAnB,CACA,MAAOC,SAAP,KAAqB,iBAArB,CACA,OAASC,WAAT,KAA4B,aAA5B,CACA,OAASC,cAAT,KAA+B,0BAA/B,C,wFAEA,GAAMC,OAAgB,CAAG,QAAnBA,OAAmB,EAAM,CAC7B,GAAMC,SAAQ,CAAGH,WAAW,EAA5B,CACA,oBAA0BH,KAAK,CAACO,QAAN,CAAe,EAAf,CAA1B,oDAAOC,KAAP,qBAAcC,QAAd,qBAEA,GAAMC,SAAQ,CAAGV,KAAK,CAACW,MAAN,CAA+B,IAA/B,CAAjB,CAEA,GAAMC,aAAY,CAAG,QAAfA,aAAe,EAAM,uBACzBN,QAAQ,CAACF,cAAc,CAAC,EAAD,CAAf,CAAR,CACAK,QAAQ,CAAC,EAAD,CAAR,CACA,mBAAAC,QAAQ,CAACG,OAAT,8DAAkBC,KAAlB,GACD,CAJD,CAMA,GAAMC,kBAAiB,CAAGf,KAAK,CAACgB,WAAN,CACxBd,QAAQ,CAAC,SAACe,GAAD,CAAiB,CACxBX,QAAQ,CAACF,cAAc,CAACa,GAAD,CAAf,CAAR,CACD,CAFO,CAEL,IAFK,CADgB,CAIxB,EAJwB,CAA1B,CAOA,GAAMC,cAAa,CAAG,QAAhBA,cAAgB,CAACC,KAAD,CAAgD,CACpEV,QAAQ,CAACU,KAAK,CAACC,MAAN,CAAaZ,KAAd,CAAR,CACAO,iBAAiB,CAACI,KAAK,CAACC,MAAN,CAAaZ,KAAd,CAAjB,CACD,CAHD,CAKA,mBACE,aAAK,SAAS,CAAEP,MAAM,CAACoB,IAAvB,wBACE,aAAK,SAAS,CAAEpB,MAAM,CAACqB,IAAvB,CAA6B,OAAO,CAAC,WAArC,CAAiD,KAAK,CAAC,4BAAvD,wBACE,gBADF,cAEE,UAAG,EAAE,CAAC,QAAN,uBACE,aAAM,CAAC,CAAC,0JAAR,EADF,EAFF,GADF,cAOE,cACE,KAAK,CAAEd,KADT,CAEE,GAAG,CAAEE,QAFP,CAGE,QAAQ,CAAEQ,aAHZ,CAIE,SAAS,CAAEjB,MAAM,CAACsB,KAJpB,CAKE,WAAW,CAAC,YALd,EAPF,CAcGf,KAAK,eACJ,aACE,OAAO,CAAEI,YADX,CAEE,SAAS,CAAEX,MAAM,CAACuB,KAFpB,CAGE,OAAO,CAAC,WAHV,CAIE,KAAK,CAAC,4BAJR,wBAKE,aAAM,CAAC,CAAC,yIAAR,EALF,cAME,aAAM,CAAC,CAAC,iBAAR,CAA0B,IAAI,CAAC,MAA/B,EANF,GAfJ,GADF,CA2BD,CAnDD,CAqDA,cAAenB,OAAf"},"metadata":{},"sourceType":"module"}