{"ast":null,"code":"import _objectSpread from\"C:/Users/Igor N/Desktop/react pizza 24 L/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{calcTotalPrice}from'../../utils/calcTotalPrice';import{getCartFromLS}from'../../utils/getCartFromLS';import{createSlice}from'@reduxjs/toolkit';var _getCartFromLS=getCartFromLS(),items=_getCartFromLS.items,totalPrice=_getCartFromLS.totalPrice;var initialState={totalPrice:totalPrice,items:items};var cartSlice=createSlice({name:'cart',initialState:initialState,reducers:{addItem:function addItem(state,action){var findItem=state.items.find(function(item){return item.id===action.payload.id;});if(findItem){findItem.count++;}else{state.items.push(_objectSpread(_objectSpread({},action.payload),{},{count:1}));}state.totalPrice=calcTotalPrice(state.items);},minusItem:function minusItem(state,action){var findItem=state.items.find(function(item){return item.id===action.payload;});if(findItem){findItem.count--;}state.totalPrice=state.items.reduce(function(sum,item){return sum+item.price*item.count;},0);},removeItem:function removeItem(state,action){state.items=state.items.filter(function(obj){return obj.id!==action.payload;});state.totalPrice=state.items.reduce(function(sum,item){return sum+item.price*item.count;},0);},clearItems:function clearItems(state){state.items=[];state.totalPrice=0;}}});var _cartSlice$actions=cartSlice.actions,addItem=_cartSlice$actions.addItem,removeItem=_cartSlice$actions.removeItem,clearItems=_cartSlice$actions.clearItems,minusItem=_cartSlice$actions.minusItem;export{addItem,removeItem,clearItems,minusItem};export default cartSlice.reducer;","map":{"version":3,"names":["calcTotalPrice","getCartFromLS","createSlice","items","totalPrice","initialState","cartSlice","name","reducers","addItem","state","action","findItem","find","item","id","payload","count","push","minusItem","reduce","sum","price","removeItem","filter","obj","clearItems","actions","reducer"],"sources":["C:/Users/Igor N/Desktop/react pizza 24 L/src/redux/cart/slice.ts"],"sourcesContent":["import { calcTotalPrice } from '../../utils/calcTotalPrice';\r\nimport { getCartFromLS } from '../../utils/getCartFromLS';\r\nimport { CartSliceState, CartItem } from './types';\r\nimport { createSlice, PayloadAction } from '@reduxjs/toolkit';\r\n\r\nconst { items, totalPrice } = getCartFromLS();\r\n\r\nconst initialState: CartSliceState = {\r\n  totalPrice,\r\n  items,\r\n};\r\n\r\nconst cartSlice = createSlice({\r\n  name: 'cart',\r\n  initialState,\r\n  reducers: {\r\n    addItem(state, action: PayloadAction<CartItem>) {\r\n      const findItem = state.items.find((item) => item.id === action.payload.id);\r\n\r\n      if (findItem) {\r\n        findItem.count++;\r\n      } else {\r\n        state.items.push({\r\n          ...action.payload,\r\n          count: 1,\r\n        });\r\n      }\r\n      state.totalPrice = calcTotalPrice(state.items);\r\n    },\r\n    minusItem(state, action: PayloadAction<string>) {\r\n      const findItem = state.items.find((item) => item.id === action.payload);\r\n      if (findItem) {\r\n        findItem.count--;\r\n      }\r\n      state.totalPrice = state.items.reduce((sum, item) => sum + item.price * item.count, 0);\r\n    },\r\n    removeItem(state, action: PayloadAction<string>) {\r\n      state.items = state.items.filter((obj) => obj.id !== action.payload);\r\n      state.totalPrice = state.items.reduce((sum, item) => sum + item.price * item.count, 0);\r\n    },\r\n    clearItems(state) {\r\n      state.items = [];\r\n      state.totalPrice = 0;\r\n    },\r\n  },\r\n});\r\n\r\nexport const { addItem, removeItem, clearItems, minusItem } = cartSlice.actions;\r\nexport default cartSlice.reducer;\r\n"],"mappings":"6HAAA,OAASA,cAAT,KAA+B,4BAA/B,CACA,OAASC,aAAT,KAA8B,2BAA9B,CAEA,OAASC,WAAT,KAA2C,kBAA3C,CAEA,mBAA8BD,aAAa,EAA3C,CAAQE,KAAR,gBAAQA,KAAR,CAAeC,UAAf,gBAAeA,UAAf,CAEA,GAAMC,aAA4B,CAAG,CACnCD,UAAU,CAAVA,UADmC,CAEnCD,KAAK,CAALA,KAFmC,CAArC,CAKA,GAAMG,UAAS,CAAGJ,WAAW,CAAC,CAC5BK,IAAI,CAAE,MADsB,CAE5BF,YAAY,CAAZA,YAF4B,CAG5BG,QAAQ,CAAE,CACRC,OADQ,kBACAC,KADA,CACOC,MADP,CACwC,CAC9C,GAAMC,SAAQ,CAAGF,KAAK,CAACP,KAAN,CAAYU,IAAZ,CAAiB,SAACC,IAAD,QAAUA,KAAI,CAACC,EAAL,GAAYJ,MAAM,CAACK,OAAP,CAAeD,EAArC,EAAjB,CAAjB,CAEA,GAAIH,QAAJ,CAAc,CACZA,QAAQ,CAACK,KAAT,GACD,CAFD,IAEO,CACLP,KAAK,CAACP,KAAN,CAAYe,IAAZ,gCACKP,MAAM,CAACK,OADZ,MAEEC,KAAK,CAAE,CAFT,IAID,CACDP,KAAK,CAACN,UAAN,CAAmBJ,cAAc,CAACU,KAAK,CAACP,KAAP,CAAjC,CACD,CAbO,CAcRgB,SAdQ,oBAcET,KAdF,CAcSC,MAdT,CAcwC,CAC9C,GAAMC,SAAQ,CAAGF,KAAK,CAACP,KAAN,CAAYU,IAAZ,CAAiB,SAACC,IAAD,QAAUA,KAAI,CAACC,EAAL,GAAYJ,MAAM,CAACK,OAA7B,EAAjB,CAAjB,CACA,GAAIJ,QAAJ,CAAc,CACZA,QAAQ,CAACK,KAAT,GACD,CACDP,KAAK,CAACN,UAAN,CAAmBM,KAAK,CAACP,KAAN,CAAYiB,MAAZ,CAAmB,SAACC,GAAD,CAAMP,IAAN,QAAeO,IAAG,CAAGP,IAAI,CAACQ,KAAL,CAAaR,IAAI,CAACG,KAAvC,EAAnB,CAAiE,CAAjE,CAAnB,CACD,CApBO,CAqBRM,UArBQ,qBAqBGb,KArBH,CAqBUC,MArBV,CAqByC,CAC/CD,KAAK,CAACP,KAAN,CAAcO,KAAK,CAACP,KAAN,CAAYqB,MAAZ,CAAmB,SAACC,GAAD,QAASA,IAAG,CAACV,EAAJ,GAAWJ,MAAM,CAACK,OAA3B,EAAnB,CAAd,CACAN,KAAK,CAACN,UAAN,CAAmBM,KAAK,CAACP,KAAN,CAAYiB,MAAZ,CAAmB,SAACC,GAAD,CAAMP,IAAN,QAAeO,IAAG,CAAGP,IAAI,CAACQ,KAAL,CAAaR,IAAI,CAACG,KAAvC,EAAnB,CAAiE,CAAjE,CAAnB,CACD,CAxBO,CAyBRS,UAzBQ,qBAyBGhB,KAzBH,CAyBU,CAChBA,KAAK,CAACP,KAAN,CAAc,EAAd,CACAO,KAAK,CAACN,UAAN,CAAmB,CAAnB,CACD,CA5BO,CAHkB,CAAD,CAA7B,CAmCO,uBAAuDE,SAAS,CAACqB,OAAjE,CAAQlB,OAAR,oBAAQA,OAAR,CAAiBc,UAAjB,oBAAiBA,UAAjB,CAA6BG,UAA7B,oBAA6BA,UAA7B,CAAyCP,SAAzC,oBAAyCA,SAAzC,C,gDACP,cAAeb,UAAS,CAACsB,OAAzB"},"metadata":{},"sourceType":"module"}