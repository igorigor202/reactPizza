{"ast":null,"code":"import _slicedToArray from\"C:/Users/Igor N/Desktop/react pizza 24 L/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import{useDispatch,useSelector}from'react-redux';import{Link}from'react-router-dom';import{selectCartItemById}from'../../redux/cart/selectors';import{addItem}from'../../redux/cart/slice';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PizzaBlock=function PizzaBlock(_ref){var id=_ref.id,imageUrl=_ref.imageUrl,title=_ref.title,types=_ref.types,sizes=_ref.sizes,price=_ref.price;var typeNames=['тонкое','традиционное'];var _React$useState=React.useState(0),_React$useState2=_slicedToArray(_React$useState,2),activeType=_React$useState2[0],setActiveType=_React$useState2[1];var _React$useState3=React.useState(0),_React$useState4=_slicedToArray(_React$useState3,2),activeSize=_React$useState4[0],setActiveSize=_React$useState4[1];var dispatch=useDispatch();var addedCount=useSelector(selectCartItemById(id));var totalCount=addedCount?addedCount.count:0;var onClickAdd=function onClickAdd(){var item={id:id,title:title,price:price,imageUrl:imageUrl,size:sizes[activeSize],type:typeNames[activeType],count:0};dispatch(addItem(item));};return/*#__PURE__*/_jsx(\"div\",{className:\"pizza-block-wrapper\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"pizza-block\",children:[/*#__PURE__*/_jsxs(Link,{to:\"/pizza/\".concat(id),children:[/*#__PURE__*/_jsx(\"img\",{className:\"pizza-block__image\",src:imageUrl,alt:\"Pizza\"}),/*#__PURE__*/_jsx(\"h4\",{className:\"pizza-block__title\",children:title})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"pizza-block__selector\",children:[/*#__PURE__*/_jsx(\"ul\",{children:types.map(function(type){return/*#__PURE__*/_jsx(\"li\",{onClick:function onClick(){return setActiveType(type);},className:activeType===type?'active':'',children:typeNames[type]},type);})}),/*#__PURE__*/_jsx(\"ul\",{children:sizes.map(function(size,i){return/*#__PURE__*/_jsxs(\"li\",{onClick:function onClick(){return setActiveSize(i);},className:activeSize===i?'active':'',children:[size,\" \\u0441\\u043C.\"]},i);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"pizza-block__bottom\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"pizza-block__price\",children:[\"\\u043E\\u0442 \",price,\" \\u20BD\"]}),/*#__PURE__*/_jsxs(\"div\",{onClick:onClickAdd,className:\"button button--outline button--add\",children:[/*#__PURE__*/_jsx(\"svg\",{width:\"12\",height:\"12\",viewBox:\"0 0 12 12\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M10.8 4.8H7.2V1.2C7.2 0.5373 6.6627 0 6 0C5.3373 0 4.8 0.5373 4.8 1.2V4.8H1.2C0.5373 4.8 0 5.3373 0 6C0 6.6627 0.5373 7.2 1.2 7.2H4.8V10.8C4.8 11.4627 5.3373 12 6 12C6.6627 12 7.2 11.4627 7.2 10.8V7.2H10.8C11.4627 7.2 12 6.6627 12 6C12 5.3373 11.4627 4.8 10.8 4.8Z\",fill:\"white\"})}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C\"}),totalCount>0&&/*#__PURE__*/_jsx(\"i\",{children:totalCount})]})]})]})});};export default PizzaBlock;","map":{"version":3,"names":["React","useDispatch","useSelector","Link","selectCartItemById","addItem","PizzaBlock","id","imageUrl","title","types","sizes","price","typeNames","useState","activeType","setActiveType","activeSize","setActiveSize","dispatch","addedCount","totalCount","count","onClickAdd","item","size","type","map","i"],"sources":["C:/Users/Igor N/Desktop/react pizza 24 L/src/components/PizzaBlock/index.tsx"],"sourcesContent":["import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { selectCartItemById } from '../../redux/cart/selectors';\nimport { addItem } from '../../redux/cart/slice';\nimport { CartItem } from '../../redux/cart/types';\n\ntype PizzaBlockProps = {\n  id: string;\n  imageUrl: string;\n  title: string;\n  types: number[];\n  sizes: number[];\n  price: number;\n};\n\nconst PizzaBlock: React.FC<PizzaBlockProps> = ({ id, imageUrl, title, types, sizes, price }) => {\n  const typeNames = ['тонкое', 'традиционное'];\n  const [activeType, setActiveType] = React.useState<number>(0);\n  const [activeSize, setActiveSize] = React.useState<number>(0);\n  const dispatch = useDispatch();\n  const addedCount = useSelector(selectCartItemById(id));\n\n  const totalCount = addedCount ? addedCount.count : 0;\n\n  const onClickAdd = () => {\n    const item: CartItem = {\n      id,\n      title,\n      price,\n      imageUrl,\n      size: sizes[activeSize],\n      type: typeNames[activeType],\n      count: 0,\n    };\n    dispatch(addItem(item));\n  };\n\n  return (\n    <div className=\"pizza-block-wrapper\">\n      <div className=\"pizza-block\">\n        <Link to={`/pizza/${id}`}>\n          <img className=\"pizza-block__image\" src={imageUrl} alt=\"Pizza\" />\n          <h4 className=\"pizza-block__title\">{title}</h4>\n        </Link>\n        <div className=\"pizza-block__selector\">\n          <ul>\n            {types.map((type) => (\n              <li\n                key={type}\n                onClick={() => setActiveType(type)}\n                className={activeType === type ? 'active' : ''}>\n                {typeNames[type]}\n              </li>\n            ))}\n          </ul>\n          <ul>\n            {sizes.map((size, i) => (\n              <li\n                key={i}\n                onClick={() => setActiveSize(i)}\n                className={activeSize === i ? 'active' : ''}>\n                {size} см.\n              </li>\n            ))}\n          </ul>\n        </div>\n        <div className=\"pizza-block__bottom\">\n          <div className=\"pizza-block__price\">от {price} ₽</div>\n          <div onClick={onClickAdd} className=\"button button--outline button--add\">\n            <svg\n              width=\"12\"\n              height=\"12\"\n              viewBox=\"0 0 12 12\"\n              fill=\"none\"\n              xmlns=\"http://www.w3.org/2000/svg\">\n              <path\n                d=\"M10.8 4.8H7.2V1.2C7.2 0.5373 6.6627 0 6 0C5.3373 0 4.8 0.5373 4.8 1.2V4.8H1.2C0.5373 4.8 0 5.3373 0 6C0 6.6627 0.5373 7.2 1.2 7.2H4.8V10.8C4.8 11.4627 5.3373 12 6 12C6.6627 12 7.2 11.4627 7.2 10.8V7.2H10.8C11.4627 7.2 12 6.6627 12 6C12 5.3373 11.4627 4.8 10.8 4.8Z\"\n                fill=\"white\"\n              />\n            </svg>\n            <span>Добавить</span>\n            {totalCount > 0 && <i>{totalCount}</i>}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default PizzaBlock;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}